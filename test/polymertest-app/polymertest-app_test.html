<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes"
    />

    <title>polymertest-app test</title>


    <script src="../../bower_components/web-component-tester/browser.js"></script>
    <script src="../../bower_components/webcomponentsjs/webcomponents-loader.js"></script>




    <link rel="import" href="../../src/polymertest-app/polymertest-app.html" />
  </head>
  <body>
    <test-fixture id="BasicTestFixture">
      <template>
        <polymertest-app></polymertest-app>
      </template>
    </test-fixture>

   <!-- this shouldnt be here

<test-fixture id="ChangedPropertyTestFixture">
      <template>
        <polymertest-app prop1="new-prop1"></polymertest-app>

      </template>
    </test-fixture> -->


    <script>
      suite("polymertest-app", () => {
        let element;
        setup(() => {
          element = fixture("BasicTestFixture");
        });

        test("shows div on click", (done) => {
          let button = element.shadowRoot.querySelector("#button-change");
          button.click();
          assert.equal(element.prop1, "ee");
          done();
        });

        test("shows div on click", (done) => {
          let button = element.shadowRoot.querySelector("#button-show");
          button.click();

          flush(() => {
            let div = element.shadowRoot.querySelector("#show");
            console.log(div);
            assert.equal(div.innerHTML, "ee");
            done();
          });
        });
      });
    </script>
  </body>
</html>
